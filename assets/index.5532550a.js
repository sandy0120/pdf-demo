var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,s=(e,s)=>{for(var l in s||(s={}))a.call(s,l)&&n(e,l,s[l]);if(t)for(var l of t(s))o.call(s,l)&&n(e,l,s[l]);return e};"undefined"!=typeof require&&require;import{d as l,r,c as i,a as c,o as d,m as u,p,b as m,e as g,w as h,f,g as b,u as v,h as w,i as y,F as k,T as x,j as P,k as S,l as _,n as C,q as j,s as L,t as T,v as D,x as O,y as I,z as R,A as W,B,C as E,D as M,E as U,G as A,H as F,I as z,J as $,K as N,L as q,M as H,N as Z,_ as G,O as V,P as K}from"./vendor.600c1414.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var J=l({setup:()=>({})});J.render=function(e,t,a,o,n,s){const l=r("router-view");return d(),i("main",null,[c(l)])};var X={computed:s({},u({loading:"app/loading"}))};const Y=b();p("data-v-0c0fc800");const Q={key:0,class:"mask","element-loading-background":"rgba(0, 0, 0, 0)"};m();const ee=Y(((e,t,a,o,n,s)=>{const l=g("loading");return e.loading?h((d(),i("div",Q,null,512)),[[l,e.loading]]):f("",!0)}));X.render=ee,X.__scopeId="data-v-0c0fc800";var te={components:{Loading:X},setup(){const e=v();return{fullPath:w((()=>e.fullPath))}}};const ae={class:"MainLayout"};te.render=function(e,t,a,o,n,s){const l=r("Loading"),u=r("router-view"),p=r("el-row");return d(),i(k,null,[c(l),c("div",ae,[c(p,{type:"flex",justify:"center",class:"view"},{default:y((()=>[c(x,{name:"fade",mode:"out-in"},{default:y((()=>[c(u,{key:o.fullPath})])),_:1})])),_:1})])],64)};var oe={name:"InfiniteScroll",emits:["action"],setup(e,{emit:t}){const a=_().appContext.config.globalProperties.$_.throttle((()=>{window.scrollY+window.innerHeight>document.body.offsetHeight-700&&t("action")}),500);return P((()=>{document.getElementById("scroll").addEventListener("scroll",a)})),S((()=>{document.getElementById("scroll").removeEventListener("scroll",a)})),{}}};C.exports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.js";var ne={components:{ArrowLeftBold:j,ArrowRightBold:L,InfiniteScroll:oe},props:{page:{type:Number,default:1}},emits:["page"],setup(e,{emit:t}){const a=T(),o=D(0),n=D(5),s=w((()=>a.state.report.thumbWidth)),l=D(0),r=D(.2),i=D(""),c=w((()=>a.state.report.pdfUrl)),d=w((()=>a.state.report.isShowThumb)),u=e=>{i.value.getPage(e).then((t=>{a.commit("app/setLoading",1);const o=document.getElementById("thumbCanvas"+e);if(o){const s=o.getContext("2d"),i=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),c=t.getViewport({scale:r.value});o.width=c.width*i,o.height=c.height*i,o.style.width=c.width+"px",a.commit("report/setThumbWidth",c.width+150),o.style.height=c.height+"px",l.value=c.height+8,s.setTransform(i,0,0,i,0,0);const d={canvasContext:s,viewport:c};t.render(d),n.value>e?u(e+1):a.commit("app/setLoading",0)}}))};return O((()=>e.page),(()=>{const t=document.querySelector(".thumb-block"),a=l.value+16+16,o=t.scrollTop,n=e.page*a;(n-o>t.offsetHeight||n-o<a)&&(t.scrollTop=n-a)})),P((()=>{var e;e=c.value,C.exports.getDocument(e).promise.then((e=>{i.value=e,o.value=e.numPages,I((()=>{u(1)}))}))})),{isShow:d,pdfPages:o,scrollPage:n,thumbWidth:s,thumbHeight:l,thumbScale:r,pdfUrl:c,pdfDoc:i,changePage:e=>{e>0&&e<=o.value&&t("update:page",e)},onInfinite:()=>{const e=o.value;if(n.value<e){const t=n.value;n.value+=5,n.value>=e&&(n.value=e),u(t+1)}}}}};const se=b(),le=se(((e,t,a,o,n,s)=>{const l=r("el-row"),u=r("ArrowLeftBold"),p=r("el-icon"),m=r("ArrowRightBold"),g=r("InfiniteScroll");return d(),i(l,{type:"flex",align:"middle",class:"menu-box",style:`transform: translateX(-${o.isShow?"0px":o.thumbWidth+"px"})`},{default:se((()=>[c("div",{id:"scroll",class:"thumb-block",style:`width: ${o.thumbWidth}px;`},[(d(!0),i(k,null,R(o.scrollPage,(e=>(d(),i(l,{type:"flex",align:"middle",justify:"center",key:e},{default:se((()=>[c("div",null,W(e),1),c("canvas",{id:"thumbCanvas"+e,class:["thumb",{active:e===a.page}],onClick:t=>o.changePage(e)},null,10,["id","onClick"])])),_:2},1024)))),128))],4),c(l,{type:"flex",align:"middle",justify:"center",class:"arrow",onClick:t[1]||(t[1]=t=>e.$store.commit("report/setThumb",!o.isShow))},{default:se((()=>[o.isShow?(d(),i(p,{key:0},{default:se((()=>[c(u)])),_:1})):f("",!0),o.isShow?f("",!0):(d(),i(p,{key:1},{default:se((()=>[c(m)])),_:1}))])),_:1}),c(g,{onAction:o.onInfinite},null,8,["onAction"])])),_:1},8,["style"])}));ne.render=le,ne.__scopeId="data-v-3bad0cba",C.exports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.js";var re={components:{CaretLeft:B,CaretRight:E,ZoomOut:M,ZoomIn:U,Download:A},props:{page:{type:Number,default:1}},emits:["page"],computed:s({},u({isShow:"report/isShowThumb",thumbWidth:"report/thumbWidth"})),setup(e,{emit:t}){const a=T(),o=D(0),n=D(""),s=D(1.5),l=D({}),r=w((()=>a.state.report.pdfUrl)),i=w((()=>Object.assign({_scale:s.value},l.value))),c=w((()=>{const{width:e,height:t,_scale:a}=i.value,[o,n]=[e,t].map((e=>Math.ceil(e*(.5*a))));return`width: ${o}px; height: ${n}px;`})),d=w((()=>{const{width:e,height:t}=l.value,a=[e,t].map((e=>Math.ceil(e))),o=c.value;return{width:a[0],height:a[1],style:o,class:"pdf-page"}})),u=e=>{n.value.getPage(e).then((async t=>{a.commit("app/setLoading",1);const o=await document.getElementById("pdfCanvas"+e);if(o){const e=o.getContext("2d");0===t._pageIndex&&(l.value=t.getViewport({scale:s.value}));const n={canvasContext:e,viewport:l.value};t.render(n),a.commit("app/setLoading",0)}}))};O((()=>e.page),(()=>u(e.page)));return P((()=>{var e;a.commit("app/setLoading",1),e=r.value,C.exports.getDocument(e).promise.then((e=>{n.value=e,o.value=e.numPages,I((()=>{u(1)}))}))})),{pdfPages:o,pdfUrl:r,pdfDoc:n,pdfScale:s,viewport:l,originalViewport:i,canvasStyle:c,canvasAttrs:d,changePage:e=>{e>0&&e<=o.value&&t("update:page",e)},zoom:e=>{"+"===e?s.value+.1<=3&&(s.value+=.1):s.value-.1>=1&&(s.value-=.1)},downloadPDF:async()=>{window.location.href=r.value}}}};const ie={class:"tool-block"};re.render=function(e,t,a,o,n,s){const l=r("el-col"),u=r("CaretLeft"),p=r("el-icon"),m=r("CaretRight"),g=r("el-row"),h=r("ZoomIn"),f=r("ZoomOut"),b=r("Download"),v=r("ScrollUp");return d(),i(k,null,[c("div",{class:"pdf-block",style:{"margin-left":e.isShow?e.thumbWidth+"px":0}},[c("div",ie,[c(g,{type:"flex",align:"middle",justify:"space-between"},{default:y((()=>[c(l,{span:8}),c(l,{span:8},{default:y((()=>[c(g,{type:"flex",align:"middle",justify:"center"},{default:y((()=>[c(p,{class:"tool-icon",onClick:t[1]||(t[1]=e=>o.changePage(a.page-1))},{default:y((()=>[c(u)])),_:1}),z(" "+W(a.page)+" / "+W(o.pdfPages)+" ",1),c(p,{class:"tool-icon",onClick:t[2]||(t[2]=e=>o.changePage(a.page+1))},{default:y((()=>[c(m)])),_:1})])),_:1})])),_:1}),c(l,{span:8},{default:y((()=>[c(g,{type:"flex",align:"middle",justify:"end"},{default:y((()=>[c(p,{class:["tool-icon",{disabled:o.pdfScale+.1>3}],onClick:t[3]||(t[3]=e=>o.zoom("+"))},{default:y((()=>[c(h)])),_:1},8,["class"]),c(p,{class:["tool-icon",{disabled:o.pdfScale-.1<1}],onClick:t[4]||(t[4]=e=>o.zoom("-"))},{default:y((()=>[c(f)])),_:1},8,["class"]),c(p,{class:"tool-icon",onClick:o.downloadPDF},{default:y((()=>[c(b)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})]),c("div",null,[c("canvas",F({id:"pdfCanvas"+a.page},o.canvasAttrs),null,16,["id"])])],4),c(v)],64)};var ce={components:{ThumbMenu:ne,PDFRender:re},setup:()=>({page:D(1)})};ce.render=function(e,t,a,o,n,s){const l=r("ThumbMenu"),u=r("PDFRender"),p=r("el-row"),m=r("ScrollUp");return d(),i(k,null,[c(p,{style:{width:"100%"}},{default:y((()=>[c(l,{page:o.page,"onUpdate:page":t[1]||(t[1]=e=>o.page=e)},null,8,["page"]),c(u,{page:o.page,"onUpdate:page":t[2]||(t[2]=e=>o.page=e)},null,8,["page"])])),_:1}),c(m)],64)};const de={},ue={class:"bg-white shadow"},pe=c("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[c("h1",{class:"text-3xl font-bold leading-tight text-gray-900"},"Not Found")],-1);de.render=function(e,t){return d(),i("header",ue,[pe])};const me=[{path:"/",name:"MainLayout",meta:{title:"MainLayout"},component:te,children:[{name:"PDF",path:"/",meta:{title:"PDF",role:[0,1,2]},component:ce}]},{path:"/404",name:"404",meta:{title:"404",role:[0,1,2],hidden:!0},component:de},{path:"/:path(.*)",meta:{hidden:!0},redirect:{name:"404"}}],ge=$({history:N("pdf-demo"),routes:me});var he={namespaced:!0,state:{loading:0,lang:"en"},getters:{loading:e=>e.loading,lang:e=>e.lang},mutations:{setLoading:(e,t)=>{e.loading=t},setLang(e,t){e.lang=t}},actions:{handleFormData({commit:e},t){const a=new FormData;return Object.keys(t).forEach((e=>{a.append(e,t[e])})),a}}};var fe={namespaced:!0,state:{isRememberChecked:!1,loginData:{email:"",password:""},token:"",personal:{}},getters:{isRememberChecked:e=>e.isRememberChecked,loginData:e=>e.loginData,token:e=>e.token,personal:e=>e.personal},mutations:{setRememberChecked(e,t){e.isRememberChecked=t},setLoginData(e,t){e.loginData=t},setToken(e,t){e.token=t},setPersonal(e,t){e.personal=t}},actions:{async getToken({commit:e},t){await e("setToken",t)},async getPersonal({commit:e},t){await e("setPersonal",t)},async cleanPersistedState({commit:e}){await e("setToken",""),await e("setPersonal",{})}}},be={namespaced:!0,state:{isShowThumb:!0,thumbWidth:0,pdfUrl:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf"},getters:{isShowThumb:e=>e.isShowThumb,thumbWidth:e=>e.thumbWidth,pdfUrl:e=>e.pdfUrl},mutations:{setThumb(e,t){e.isShowThumb=t},setThumbWidth(e,t){e.thumbWidth=t}},actions:{}};const ve={"./modules/app.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:he}),"./modules/persistedState.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fe}),"./modules/report.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:be})},we={};for(const xe in ve)we[xe.replace(/(\.\/modules\/|\.ts)/g,"")]=ve[xe].default;Object.keys(we).forEach((e=>{we[e].namespaced=!0}));const ye=q({modules:we,plugins:[H({paths:["persistedState","app.lang"]})]});ge.beforeEach(((e,t,a)=>{a()}));var ke={install:e=>{e.config.globalProperties.$baseUrl="/",e.config.globalProperties.$bus=Z(),e.config.globalProperties.$_=G,e.use(V),e.config.productionTip=!1}};K(J).use(ye).use(ge).use(ke,{}).mount("#app");
